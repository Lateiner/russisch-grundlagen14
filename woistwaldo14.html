<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Russisch: Suchbild (10 Aktionen)</title>
    <style>
        :root {
            --primary: #3f51b5;
            --po-color: #2196F3; /* Blau f√ºr Start/Weg */
            --pri-color: #4CAF50; /* Gr√ºn f√ºr Ankunft/Ziel */
            --bg: #f0f2f5;
            --card-bg: #ffffff;
            --text: #333;
            --error: #f44336;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: var(--card-bg);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        header {
            text-align: center;
            margin-bottom: 20px;
        }

        h1 { margin: 0 0 10px 0; color: var(--primary); }
        p { color: #666; }
        
        /* --- Toolbar (Werkzeugauswahl) --- */
        .toolbar {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
            padding: 15px;
            background: #e3f2fd;
            border-radius: 8px;
            flex-wrap: wrap;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .tool-btn {
            padding: 10px 20px;
            border: 2px solid transparent;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.2s;
            background: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .tool-btn.po { color: var(--po-color); border-color: var(--po-color); }
        .tool-btn.pri { color: var(--pri-color); border-color: var(--pri-color); }

        /* Aktiv-Status der Werkzeuge */
        .tool-btn.active {
            transform: scale(1.05);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            color: white;
        }
        .tool-btn.active.po { background-color: var(--po-color); }
        .tool-btn.active.pri { background-color: var(--pri-color); }

        /* --- Map Container --- */
        .map-wrapper {
            position: relative;
            width: 100%;
            /* Aspect Ratio reservieren (damit nichts springt) */
            padding-bottom: 60%; 
            background-color: #ddd;
            border-radius: 12px;
            overflow: hidden;
            border: 3px solid #ccc;
        }

        .map-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.85; 
        }

        /* --- Hotspots (Die Personen) --- */
        .hotspot {
            position: absolute;
            width: 50px;
            height: 50px;
            transform: translate(-50%, -50%);
            cursor: pointer;
            z-index: 10;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
            border: 3px solid white;
            transition: all 0.2s;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: translate(-50%, -50%) scale(1); box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7); }
            70% { transform: translate(-50%, -50%) scale(1.05); box-shadow: 0 0 0 10px rgba(255, 255, 255, 0); }
            100% { transform: translate(-50%, -50%) scale(1); box-shadow: 0 0 0 0 rgba(255, 255, 255, 0); }
        }

        .hotspot:hover {
            z-index: 20;
            transform: translate(-50%, -50%) scale(1.2);
            animation: none;
        }

        /* Status der Hotspots nach Klick */
        .hotspot[data-status="po"] {
            border-color: var(--po-color);
            background-color: #e3f2fd;
            animation: none;
        }
        
        .hotspot[data-status="pri"] {
            border-color: var(--pri-color);
            background-color: #e8f5e9;
            animation: none;
        }

        /* Markierungen nach √úberpr√ºfung */
        .hotspot.result-correct::after,
        .hotspot.result-wrong::after {
            position: absolute;
            top: -8px;
            right: -8px;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            border: 2px solid white;
        }

        .hotspot.result-correct::after { content: '‚úî'; background: var(--pri-color); }
        .hotspot.result-wrong::after { content: '‚úò'; background: var(--error); }

        /* Labels */
        .hotspot-label {
            position: absolute;
            bottom: -30px;
            background: rgba(50, 50, 50, 0.9);
            color: white;
            font-size: 0.75rem;
            padding: 4px 8px;
            border-radius: 4px;
            white-space: nowrap;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
            z-index: 30;
        }
        
        .hotspot:hover .hotspot-label { opacity: 1; }

        /* --- Buttons --- */
        .controls {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        button {
            padding: 12px 25px;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: opacity 0.2s;
            color: white;
        }

        .btn-check { background-color: var(--primary); }
        .btn-reset { background-color: #78909c; }
        .btn-solve { background-color: #ff9800; }
        button:hover { opacity: 0.9; }

        .message-box {
            text-align: center;
            margin-top: 15px;
            font-weight: bold;
            height: 24px;
        }

        /* Mobile */
        @media (max-width: 600px) {
            .hotspot { width: 40px; height: 40px; font-size: 1.4rem; }
            .toolbar { flex-direction: column; gap: 10px; padding: 10px; }
            .tool-btn { width: 100%; justify-content: center; }
            .map-wrapper { padding-bottom: 100%; } 
        }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>Stadt-Karte: –ø–æ- oder –ø—Ä–∏-?</h1>
        <p>Entscheide: Startet jemand (–ø–æ-) oder kommt jemand an (–ø—Ä–∏-)?</p>
    </header>

    <!-- Toolbar -->
    <div class="toolbar">
        <div class="tool-btn po active" id="tool-po" onclick="selectTool('po')">
            üèÅ –ø–æ- (Start / Weggehen)
        </div>
        <div class="tool-btn pri" id="tool-pri" onclick="selectTool('pri')">
            üìç –ø—Ä–∏- (Ankunft / Ziel)
        </div>
    </div>

    <!-- Karte mit 10 Hotspots -->
    <div class="map-wrapper">
        <img src="https://img.freepik.com/free-vector/suburban-houses-map-composition_1284-65313.jpg?w=1380" alt="Stadtkarte" class="map-image">

        <!-- 1. Auto f√§hrt weg (PO) -->
        <div class="hotspot" style="top: 20%; left: 20%;" data-correct="po" onclick="markHotspot(this)">
            üöóüí®
            <div class="hotspot-label">Auto f√§hrt weg</div>
        </div>

        <!-- 2. Person geht ins Haus (PRI) -->
        <div class="hotspot" style="top: 45%; left: 55%;" data-correct="pri" onclick="markHotspot(this)">
            üö∂üè†
            <div class="hotspot-label">Kommt nach Hause</div>
        </div>

        <!-- 3. Bus an Haltestelle (PRI) -->
        <div class="hotspot" style="top: 75%; left: 30%;" data-correct="pri" onclick="markHotspot(this)">
            üöåüõë
            <div class="hotspot-label">Bus kommt an</div>
        </div>

        <!-- 4. Person verl√§sst Gesch√§ft (PO) -->
        <div class="hotspot" style="top: 60%; left: 80%;" data-correct="po" onclick="markHotspot(this)">
            üè™üèÉ
            <div class="hotspot-label">Geht zum Laden raus</div>
        </div>

        <!-- 5. Fahrrad f√§hrt los (PO) -->
        <div class="hotspot" style="top: 30%; left: 85%;" data-correct="po" onclick="markHotspot(this)">
            üö¥üí®
            <div class="hotspot-label">Radfahrer startet</div>
        </div>

        <!-- 6. Zug im Bahnhof (PRI) -->
        <div class="hotspot" style="top: 15%; left: 50%;" data-correct="pri" onclick="markHotspot(this)">
            üöÜüöâ
            <div class="hotspot-label">Zug angekommen</div>
        </div>

        <!-- NEU 7. Flugzeug startet (PO) -->
        <div class="hotspot" style="top: 10%; left: 85%;" data-correct="po" onclick="markHotspot(this)">
             ‚òÅÔ∏è
            <div class="hotspot-label">Flugzeug startet</div>
        </div>

        <!-- NEU 8. Taxi kommt am Hotel an (PRI) -->
        <div class="hotspot" style="top: 65%; left: 10%;" data-correct="pri" onclick="markHotspot(this)">
            üöñüè®
            <div class="hotspot-label">Taxi am Hotel</div>
        </div>

        <!-- NEU 9. Kinder kommen zum Spielplatz (PRI) -->
        <div class="hotspot" style="top: 85%; left: 65%;" data-correct="pri" onclick="markHotspot(this)">
            ü§∏üé°
            <div class="hotspot-label">Ankunft Spielplatz</div>
        </div>

        <!-- NEU 10. LKW f√§hrt vom Lager weg (PO) -->
        <div class="hotspot" style="top: 35%; left: 5%;" data-correct="po" onclick="markHotspot(this)">
            üööüì¶
            <div class="hotspot-label">LKW f√§hrt los</div>
        </div>

    </div>

    <div class="message-box" id="feedback"></div>

    <div class="controls">
        <button class="btn-check" onclick="checkMap()">√úberpr√ºfen</button>
        <button class="btn-reset" onclick="resetMap()">Zur√ºcksetzen</button>
        <button class="btn-solve" onclick="solveMap()">L√∂sung anzeigen</button>
    </div>
</div>

<script>
    let currentTool = 'po'; 

    function selectTool(tool) {
        currentTool = tool;
        document.getElementById('tool-po').classList.remove('active');
        document.getElementById('tool-pri').classList.remove('active');
        document.getElementById('tool-' + tool).classList.add('active');
    }

    function markHotspot(element) {
        const currentStatus = element.getAttribute('data-status');
        
        if (currentStatus === currentTool) {
            element.removeAttribute('data-status'); 
        } else {
            element.setAttribute('data-status', currentTool);
        }

        element.classList.remove('result-correct', 'result-wrong');
        document.getElementById('feedback').textContent = "";
    }

    function checkMap() {
        const hotspots = document.querySelectorAll('.hotspot');
        let correctCount = 0;
        let filledCount = 0;

        hotspots.forEach(spot => {
            const userSelection = spot.getAttribute('data-status');
            const correctAnswer = spot.getAttribute('data-correct');

            spot.classList.remove('result-correct', 'result-wrong');

            if (userSelection) {
                filledCount++;
                if (userSelection === correctAnswer) {
                    spot.classList.add('result-correct');
                    correctCount++;
                } else {
                    spot.classList.add('result-wrong');
                }
            }
        });

        const feedback = document.getElementById('feedback');
        if (filledCount === 0) {
            feedback.textContent = "Klicke auf die Symbole auf der Karte!";
            feedback.style.color = "#f57c00";
        } else if (correctCount === hotspots.length) {
            feedback.textContent = "Fantastisch! 10 von 10 richtig.";
            feedback.style.color = "var(--pri-color)";
        } else {
            feedback.textContent = `Du hast ${correctCount} von ${hotspots.length} richtig markiert.`;
            feedback.style.color = "var(--error)";
        }
    }

    function resetMap() {
        const hotspots = document.querySelectorAll('.hotspot');
        hotspots.forEach(spot => {
            spot.removeAttribute('data-status');
            spot.classList.remove('result-correct', 'result-wrong');
        });
        document.getElementById('feedback').textContent = "";
        selectTool('po');
    }

    function solveMap() {
        resetMap();
        const hotspots = document.querySelectorAll('.hotspot');
        hotspots.forEach(spot => {
            const correct = spot.getAttribute('data-correct');
            spot.setAttribute('data-status', correct);
            spot.classList.add('result-correct');
        });
        document.getElementById('feedback').textContent = "L√∂sung angezeigt.";
        document.getElementById('feedback').style.color = "var(--primary)";
    }
</script>

</body>
</html>